
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./css/bootstrap.min.css" rel="stylesheet" >
    <title>Three Columns Layout</title>
    <style>
        body{
            background-image: url('./assests/img/kosmos.jpg');
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
        }
        body, html {
            height: 100%;
            width: 100%;
            margin: 0;
        }
        .column {
            height: 100%;
        }
        .left, .right {
            width: 25%;
            text-align: center;
        }
        
        .left img, .right img{
            width: 50%;
        }

        .center {
            width: 50%;
        }

        .center table {
            height: 100%;
            width: 100%;
        }

        body table{
            width: 100%;
            height: 100%;
        }

        .table-ranking{
            width: 100%;
            height: auto !important;
            background-color: #ffffff;
            position: relative;
            border-radius: 15px;
            padding: 10px;
        }
        .table-ranking td{
            padding: 5px;
            border-bottom: #505050 solid 1px;
        }
    </style>
</head>
<body>
                <table>
                    <tr>
                        <td class="left">
                            <img src="./assests/img/logo.png" class="d-block mx-auto logo" alt="Responsive image">
                        </td>
                        <td class="center">
                            
                            <div id="carousel-ranking" class="carousel slide w-100" data-ride="carousel" data-interval="10000" data-pause="false">
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <table>
                                            <tr>
                                                <td style="vertical-align: bottom;">
                                                    <img src="./assests/img/head_ranking_toyota_tsusho_group.png" width="100%">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="vertical-align: top;padding-top: 20px;">
                                                    <img src="./assests/img/head_cat_especial.png" width="100%">
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="vertical-align: top;">
                                                    <div style="background-color: #ffffff;position: relative; height: auto; border-radius: 15px; padding: 10px;font-size: 22px;">
                                                        <table class="table-ranking">
                                                            <tr>
                                                                <td><b>#</b></td>
                                                                <td></td>
                                                                <td><b>Nome</b></td>
                                                                <td><b>Pontos</b></td>
                                                            </tr>
                                                            <tbody id="ranking-cat-a"></tbody>
                                                        </table>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td class="right">
                            <img src="./assests/img/logo-tenis.png" class="d-block mx-auto logo" alt="Responsive image">
                        </td>
                    </tr>
                </table>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" ></script>
    <script src="./js/bootstrap.min.js" ></script>
    <script type="text/javascript">
        
        //fazer chamada $ajax para o servidor
        
        $.ajax({
            url: 'http://127.0.0.1:8000/webscraper/scrape/',
            type: 'GET',
            success: function(data){
                var js = data;

                var tr = '';
                var cont = 1;
                
                js.forEach(d => {
                    tr = tr+'<tr><td>'+d.position+'</td><td>'+
                    '<img width="55" align="right" src="'+d.image+'" alt="'+cont+'">'+
                    '</td><td>'+d.cat+' - '+d.name+'</td><td>'+d.score+' pts.</td></tr>';
                    cont++
                });
                
                    
                 $('#ranking-cat-a').html(tr);

            }
        });
        /*
        $(document).ready(function(){
            $(document).height = $(window).height();
        });*/
        </script>
</body>
</html>


